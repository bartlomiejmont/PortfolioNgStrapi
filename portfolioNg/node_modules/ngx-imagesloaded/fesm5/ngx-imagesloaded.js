import { Injectable, Directive, ElementRef, EventEmitter, Input, Output, NgModule, defineInjectable } from '@angular/core';
import imagesLoaded from 'imagesloaded';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NgxImagesloadedService = /** @class */ (function () {
    function NgxImagesloadedService() {
    }
    NgxImagesloadedService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    NgxImagesloadedService.ctorParameters = function () { return []; };
    /** @nocollapse */ NgxImagesloadedService.ngInjectableDef = defineInjectable({ factory: function NgxImagesloadedService_Factory() { return new NgxImagesloadedService(); }, token: NgxImagesloadedService, providedIn: "root" });
    return NgxImagesloadedService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NgxImagesloadedDirective = /** @class */ (function () {
    //
    function NgxImagesloadedDirective(el) {
        this.el = el;
        //
        this.always = new EventEmitter();
        //
        this.done = new EventEmitter();
        //
        this.fail = new EventEmitter();
        //
        this.progress = new EventEmitter();
    }
    //
    /**
     * @return {?}
     */
    NgxImagesloadedDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.instance = imagesLoaded(this.el.nativeElement, this.options, function (instance) {
            _this.always.emit(instance);
        });
        this.instance.on('always', function (instance) { return _this.always.emit(instance); });
        this.instance.on('done', function (instance) { return _this.always.emit(instance); });
        this.instance.on('fail', function (instance) { return _this.always.emit(instance); });
        this.instance.on('progress', function (instance, image) {
            return _this.always.emit({ instance: instance, image: image });
        });
    };
    //
    /**
     * @return {?}
     */
    NgxImagesloadedDirective.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.instance.off('always', function (instance) { return _this.always.emit(instance); });
        this.instance.off('doffe', function (instance) { return _this.always.emit(instance); });
        this.instance.off('fail', function (instance) { return _this.always.emit(instance); });
        this.instance.off('progress', function (instance, image) {
            return _this.always.emit({ instance: instance, image: image });
        });
    };
    NgxImagesloadedDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[imagesLoaded]'
                },] },
    ];
    /** @nocollapse */
    NgxImagesloadedDirective.ctorParameters = function () { return [
        { type: ElementRef }
    ]; };
    NgxImagesloadedDirective.propDecorators = {
        always: [{ type: Output }],
        done: [{ type: Output }],
        fail: [{ type: Output }],
        progress: [{ type: Output }],
        options: [{ type: Input }]
    };
    return NgxImagesloadedDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NgxImagesloadedModule = /** @class */ (function () {
    function NgxImagesloadedModule() {
    }
    NgxImagesloadedModule.decorators = [
        { type: NgModule, args: [{
                    declarations: [NgxImagesloadedDirective],
                    exports: [NgxImagesloadedDirective],
                    providers: [NgxImagesloadedService]
                },] },
    ];
    return NgxImagesloadedModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { NgxImagesloadedService, NgxImagesloadedModule, NgxImagesloadedDirective as Éµa };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWltYWdlc2xvYWRlZC5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vbmd4LWltYWdlc2xvYWRlZC9saWIvbmd4LWltYWdlc2xvYWRlZC5zZXJ2aWNlLnRzIiwibmc6Ly9uZ3gtaW1hZ2VzbG9hZGVkL2xpYi9uZ3gtaW1hZ2VzbG9hZGVkLmRpcmVjdGl2ZS50cyIsIm5nOi8vbmd4LWltYWdlc2xvYWRlZC9saWIvbmd4LWltYWdlc2xvYWRlZC5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBOZ3hJbWFnZXNsb2FkZWRTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgaW1hZ2VzTG9hZGVkIGZyb20gJ2ltYWdlc2xvYWRlZCc7XG5pbXBvcnQgeyBOZ3hJbWFnZXNsb2FkZWRPcHRpb25zIH0gZnJvbSAnLi9uZ3gtaW1hZ2VzbG9hZGVkLW9wdGlvbnMnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbaW1hZ2VzTG9hZGVkXSdcbn0pXG5leHBvcnQgY2xhc3MgTmd4SW1hZ2VzbG9hZGVkRGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICAvL1xuICBAT3V0cHV0KClcbiAgYWx3YXlzOiBFdmVudEVtaXR0ZXI8aW1hZ2VzTG9hZGVkPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvL1xuICBAT3V0cHV0KClcbiAgZG9uZTogRXZlbnRFbWl0dGVyPGltYWdlc0xvYWRlZD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLy9cbiAgQE91dHB1dCgpXG4gIGZhaWw6IEV2ZW50RW1pdHRlcjxpbWFnZXNMb2FkZWQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8vXG4gIEBPdXRwdXQoKVxuICBwcm9ncmVzczogRXZlbnRFbWl0dGVyPHtcbiAgICBpbnN0YW5jZTogaW1hZ2VzTG9hZGVkO1xuICAgIGltYWdlOiBhbnk7XG4gIH0+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8vXG4gIEBJbnB1dCgpXG4gIG9wdGlvbnM6IE5neEltYWdlc2xvYWRlZE9wdGlvbnM7XG5cbiAgLy9cbiAgcHJpdmF0ZSBpbnN0YW5jZTogaW1hZ2VzTG9hZGVkO1xuXG4gIC8vXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWw6IEVsZW1lbnRSZWYpIHt9XG5cbiAgLy9cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5pbnN0YW5jZSA9IGltYWdlc0xvYWRlZChcbiAgICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudCxcbiAgICAgIHRoaXMub3B0aW9ucyxcbiAgICAgIGluc3RhbmNlID0+IHtcbiAgICAgICAgdGhpcy5hbHdheXMuZW1pdChpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMuaW5zdGFuY2Uub24oJ2Fsd2F5cycsIGluc3RhbmNlID0+IHRoaXMuYWx3YXlzLmVtaXQoaW5zdGFuY2UpKTtcbiAgICB0aGlzLmluc3RhbmNlLm9uKCdkb25lJywgaW5zdGFuY2UgPT4gdGhpcy5hbHdheXMuZW1pdChpbnN0YW5jZSkpO1xuICAgIHRoaXMuaW5zdGFuY2Uub24oJ2ZhaWwnLCBpbnN0YW5jZSA9PiB0aGlzLmFsd2F5cy5lbWl0KGluc3RhbmNlKSk7XG4gICAgdGhpcy5pbnN0YW5jZS5vbigncHJvZ3Jlc3MnLCAoaW5zdGFuY2UsIGltYWdlKSA9PlxuICAgICAgdGhpcy5hbHdheXMuZW1pdCh7IGluc3RhbmNlLCBpbWFnZSB9KVxuICAgICk7XG4gIH1cblxuICAvL1xuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLmluc3RhbmNlLm9mZignYWx3YXlzJywgaW5zdGFuY2UgPT4gdGhpcy5hbHdheXMuZW1pdChpbnN0YW5jZSkpO1xuICAgIHRoaXMuaW5zdGFuY2Uub2ZmKCdkb2ZmZScsIGluc3RhbmNlID0+IHRoaXMuYWx3YXlzLmVtaXQoaW5zdGFuY2UpKTtcbiAgICB0aGlzLmluc3RhbmNlLm9mZignZmFpbCcsIGluc3RhbmNlID0+IHRoaXMuYWx3YXlzLmVtaXQoaW5zdGFuY2UpKTtcbiAgICB0aGlzLmluc3RhbmNlLm9mZigncHJvZ3Jlc3MnLCAoaW5zdGFuY2UsIGltYWdlKSA9PlxuICAgICAgdGhpcy5hbHdheXMuZW1pdCh7IGluc3RhbmNlLCBpbWFnZSB9KVxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZ3hJbWFnZXNsb2FkZWREaXJlY3RpdmUgfSBmcm9tICcuL25neC1pbWFnZXNsb2FkZWQuZGlyZWN0aXZlJztcbmltcG9ydCB7IE5neEltYWdlc2xvYWRlZFNlcnZpY2UgfSBmcm9tICcuL25neC1pbWFnZXNsb2FkZWQuc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGRlY2xhcmF0aW9uczogW05neEltYWdlc2xvYWRlZERpcmVjdGl2ZV0sXG4gIGV4cG9ydHM6IFtOZ3hJbWFnZXNsb2FkZWREaXJlY3RpdmVdLFxuICBwcm92aWRlcnM6IFtOZ3hJbWFnZXNsb2FkZWRTZXJ2aWNlXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hJbWFnZXNsb2FkZWRNb2R1bGUge31cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7SUFPRTtLQUFpQjs7Z0JBTGxCLFVBQVUsU0FBQztvQkFDVixVQUFVLEVBQUUsTUFBTTtpQkFDbkI7Ozs7O2lDQUpEOzs7Ozs7O0FDQUE7O0lBbUNFLGtDQUFvQixFQUFjO1FBQWQsT0FBRSxHQUFGLEVBQUUsQ0FBWTs7c0JBekJHLElBQUksWUFBWSxFQUFFOztvQkFJcEIsSUFBSSxZQUFZLEVB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